import{j as t}from"./jsx-runtime-Cf8x2fCZ.js";import{useMDXComponents as x}from"./index-DI2gBlDf.js";import{R as h}from"./index-BlmOqGMO.js";import{M as k,S as C}from"./index-Dyb5iMA4.js";import"./index-yBjzXJbu.js";import"./iframe-CRruxjtb.js";import"./index-aCbGg6Ov.js";import"./index-BfFTulA3.js";import"./index-DrFu-skq.js";function g(s){const m={div:"div",...x(),...s.components};return t.jsxs(t.Fragment,{children:[t.jsx(k,{title:"Embeds/Code Dynamic Snapshot"}),`
`,t.jsx("style",{children:`
  .sbdocs, .sbdocs-content { padding: 0 !important; margin: 0 !important; background: transparent !important; }
  h1, h2, h3, h4 { display: none !important; }
  .code-status { font: 12px/1.4 system-ui, Arial, sans-serif; color: #666; padding: 8px 0; }
  iframe.__code_snap_iframe { position: absolute; left: -99999px; width: 0; height: 0; border: 0; }
`}),`
`,(()=>{function p(e){const r=new URLSearchParams(window.location.search);return r.has(e)?r.get(e):new URLSearchParams(window.location.hash.replace(/^#\?/,"")).get(e)}function y(e){const r=new Set(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"]),d=e.replace(/>\s+</g,"><").replace(/</g,`
<`).trim().split(`
`);let l="",a=0;for(const n of d){/^<\/[^>]+>/.test(n)&&(a=Math.max(a-1,0)),l+=" ".repeat(a)+n+`
`;const c=/^<([a-z0-9-]+)(\s|>|\/>)/i.exec(n),i=/^<[^!/][^>]_[^/]?>/.test(n),u=/^<[^>]+>._<\/[^>]+>$/.test(n);i&&c&&!r.has(c[1].toLowerCase())&&!u&&(a+=1)}return l.trim()}function w(e){return e.replace(/ data-[a-z-]+="[^"]_"/g,"").replace(/<!--.*?-->/gs,"").replace(/\sclass=""/g,"")}function b(){const e=p("codeId")||"components-button--primary",r=p("lang")||"html",d=(p("dark")||"1")==="1",[l,a]=h.useState(""),[n,c]=h.useState("Renderingâ€¦");return h.useEffect(()=>{let i=!1;const u=`${window.location.origin}/iframe.html?id=${encodeURIComponent(e)}&viewMode=story`,o=document.createElement("iframe");return o.className="__code_snap_iframe",o.src=u,o.onload=()=>{setTimeout(()=>{try{const _=(o.contentDocument||o.contentWindow?.document)?.getElementById("storybook-root")?.innerHTML||"",j=w(_),M=y(j);i||(a(M||"<!-- No markup found -->"),c(""))}catch(f){i||c(`Unable to access story iframe: ${f.message||f}`)}finally{o.remove()}},60)},document.body.appendChild(o),()=>{i=!0;try{o.remove()}catch{}}},[e]),t.jsxs(t.Fragment,{children:[n?t.jsx(m.div,{className:"code-status",children:n}):null,t.jsx(C,{code:l||"<!-- no code available -->",language:r,dark:d})]})}return t.jsx(b,{})})()]})}function N(s={}){const{wrapper:m}={...x(),...s.components};return m?t.jsx(m,{...s,children:t.jsx(g,{...s})}):g(s)}export{N as default};
